<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
	<fieldset>
		<div style="width: 100%;height: 300px;overflow:auto">
			<table class="table table-striped">
				<tr>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="sortType = 'name'; sortReverse = !sortReverse">
	            			Empleado
	            		</a>
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="sortType = 'annualGrossSalary'; sortReverse = !sortReverse">
	            			€/Hora
	            		</a>
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="setSortType('PROJECT_MANAGEMENT'); sortReverse = !sortReverse">
	            			Gestión Proyectos
	            		</a>
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="setSortType('REQUIREMENTS'); sortReverse = !sortReverse">
	            			Requisitos
	            		</a>	
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="setSortType('ANALYSIS_DESIGN'); sortReverse = !sortReverse">
	            			Análisis Diseño
	            		</a>
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="setSortType('IMPLEMENTATION'); sortReverse = !sortReverse">
	            			Implementación
	            		</a>
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="setSortType('TESTS'); sortReverse = !sortReverse">
	            			Pruebas
	            		</a>
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="setSortType('DEPLOY'); sortReverse = !sortReverse">
	            			Despliegue
	            		</a>	
					</th>
					<th class="ui-outputlabel ui-widget text-center">
						<a href="#" ng-click="setSortType('ENVIROMENT_REVISION_CONTROL'); sortReverse = !sortReverse">
	            			Control Versiones
	            		</a>
					</th>
					<th class="ui-outputlabel ui-widget text-center text-center">Seleccione
					<h:selectBooleanCheckbox ng-model="selectedAll" ng-click="checkAll()" />
					</th>
				</tr>
				<tr ng-repeat="employee in resourcesBean.employeeList | orderBy:sortType:sortReverse">
					<td class="sort text-center"><strong>{{employee.fullName}}</strong></td>
					<td class="sort text-center">{{employeeSalaryHour(employee)|number:2}}</td>
					<td class="sort text-center">{{employeeHasRole(employee,"PROJECT_MANAGEMENT")===true?"X":""}}</td>
					<td class="sort text-center">{{employeeHasRole(employee,"REQUIREMENTS")===true?"X":""}}</td>
					<td class="sort text-center">{{employeeHasRole(employee,"ANALYSIS_DESIGN")===true?"X":""}}</td>
					<td class="sort text-center">{{employeeHasRole(employee,"IMPLEMENTATION")===true?"X":""}}</td>
					<td class="sort text-center">{{employeeHasRole(employee,"TESTS")===true?"X":""}}</td>
					<td class="sort text-center">{{employeeHasRole(employee,"DEPLOY")===true?"X":""}}</td>
					<td class="sort text-center">{{employeeHasRole(employee,"ENVIROMENT_REVISION_CONTROL")===true?"X":""}}</td>
					<td class="sort text-center"><h:selectBooleanCheckbox value="{{$index}}"
							ng-model="employee.selected"
							ng-change="copyEmployeeToList(employee)" /></td>
				</tr>
				<tr>
					<td class="text-center"><strong>Totales</strong></td>
					<td></td>
					<td class="text-center">{{numberOfProjectManagement()}}</td>
					<td class="text-center">{{numberOfRequirements()}}</td>
					<td class="text-center">{{numberOfAnalysisDesign()}}</td>
					<td class="text-center">{{numberOfImplementation()}}</td>
					<td class="text-center">{{numberOfTests()}}</td>
					<td class="text-center">{{numberOfDeploy()}}</td>
					<td class="text-center">{{numberOfEnviroment()}}</td>
					<td>&nbsp;</td>
				</tr>
			</table>
		</div>
	</fieldset>
</ui:composition>
